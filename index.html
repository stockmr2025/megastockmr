'})}</div></div>` : ''}
                    </div>
                </div>
                <div class="section purple">
                    <div class="section-title">ðŸ“‹ 2. FACTURES EXTERNES</div>
                    <div class="invoice-list">${invoicesHTML}</div>
                </div>
                <div class="section green">
                    <div class="section-title">âœ… 3. VENTE & PROFIL NET</div>
                    <div class="summary-line"><span>Prix d'achat:</span><strong>${vehicle.cost.toLocaleString('fr-CA',{style:'currency',currency:'CAD'})}</strong></div>
                    ${vehicle.pad > 0 ? `<div class="summary-line"><span>PAD:</span><strong>${vehicle.pad.toLocaleString('fr-CA',{style:'currency',currency:'CAD'})}</strong></div>` : ''}
                    <div class="summary-line"><span>Total factures:</span><strong style="color:#ef4444">${invoiceTotal.toLocaleString('fr-CA',{style:'currency',currency:'CAD'})}</strong></div>
                    <div class="summary-line total"><span>COÃ›T TOTAL:</span><strong>${totalCost.toLocaleString('fr-CA',{style:'currency',currency:'CAD'})}</strong></div>
                    <div class="summary-line" style="font-size:18px;margin-top:15px"><span style="color:#10b981;font-weight:700">Prix de vente:</span><strong style="color:#10b981;font-size:22px">${vehicle.sold.toLocaleString('fr-CA',{style:'currency',currency:'CAD'})}</strong></div>
                    <div class="summary-line profit"><span class="label">PROFIL NET:</span><strong class="value" style="color:${profit >= 0 ? '#10b981' : '#ef4444'}">${profit.toLocaleString('fr-CA',{style:'currency',currency:'CAD'})}</strong></div>
                    <div style="margin-top:20px">${vehicle.status === 'vendu' ? `<span class="badge ${profit >= 0 ? 'profit' : 'loss'}" style="font-size:16px;padding:12px 24px">${profit >= 0 ? 'âœ“ Vendu profit' : 'â†“ Vendu perte'}</span>` : '<span class="badge available" style="font-size:16px;padding:12px 24px">ðŸ“¦ En inventaire</span>'}</div>
                </div>
            `;
            
            document.getElementById('vehicleModal').classList.add('active');
        }

        function closeModal(event) {
            if (!event || event.target.id === 'vehicleModal') {
                document.getElementById('vehicleModal').classList.remove('active');
            }
        }

        renderVehicles();
    </script>
</body>
</html>
